import{_ as a,o as n,c as s,e as t}from"./app.a667bd71.js";const e={},p=t(`<h5 id="\u5206\u9875\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#\u5206\u9875\u67E5\u8BE2" aria-hidden="true">#</a> \u5206\u9875\u67E5\u8BE2</h5><p>\u5229\u7528 limit \u8BBE\u7F6E\u6BCF\u9875 offset \u504F\u79FB\u91CF\u548C\u6BCF\u9875 size \u5927\u5C0F</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>select * from sys_user u
LEFT JOIN sys_user_site s ON u.user_id = s.user_id
LEFT JOIN sys_dept d ON d.dept_id = s.dept_id
LEFT JOIN sys_emailinfo e ON u.user_id = e.userid AND e.MAIN_FLAG = &#39;Y&#39;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userCondition<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
limit #{offset}, #{limit}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="\u9884\u7F6Esql\u5B57\u6BB5" tabindex="-1"><a class="header-anchor" href="#\u9884\u7F6Esql\u5B57\u6BB5" aria-hidden="true">#</a> \u9884\u7F6Esql\u5B57\u6BB5</h5><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sql</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>columns<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  id,title,content,original_img,is_user_edit,province_id,status,porder
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sql</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selectById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>RM_MsShortcutPanel<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 seelct
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span> <span class="token attr-name">refid</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>columns<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
 from cms_self_panel
 where
 id = #{_parameter}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="\u4E00\u5BF9\u591A\u7EA7\u8054\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#\u4E00\u5BF9\u591A\u7EA7\u8054\u67E5\u8BE2" aria-hidden="true">#</a> \u4E00\u5BF9\u591A\u7EA7\u8054\u67E5\u8BE2</h5><p>\u5229\u7528 mybatis \u7684 collection \u6807\u7B7E\uFF0C\u53EF\u4EE5\u5728\u6BCF\u6B21\u67E5\u8BE2\u6587\u7AE0\u4E3B\u4F53\u540C\u65F6\u901A\u8FC7 queryparaminstancelist \u7EA7\u8054\u67E5\u8BE2\u51FA\u5173\u8054\u8868\u6570\u636E\u3002</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BaseResultMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.unicom.portal.pcm.entity.ArticleEntity<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">jdbcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>BIGINT<span class="token punctuation">&quot;</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span> 
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>collection</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>paramList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>queryparaminstancelist<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>queryparaminstancelist<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ParamInstanceResultMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 select * from \`cms_article_flow_param_instance\` where article_id=#{id} 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="foreach-\u642D\u914D-in-\u67E5\u8BE2" tabindex="-1"><a class="header-anchor" href="#foreach-\u642D\u914D-in-\u67E5\u8BE2" aria-hidden="true">#</a> foreach \u642D\u914D in \u67E5\u8BE2</h5><p>\u5229\u7528 foreach \u904D\u5386 array \u96C6\u5408\u7684\u53C2\u6570\uFF0C\u62FC\u6210 in \u67E5\u8BE2\u6761\u4EF6</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>foreach</span> <span class="token attr-name">collection</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>array<span class="token punctuation">&quot;</span></span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>index<span class="token punctuation">&quot;</span></span> <span class="token attr-name">item</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">open</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(<span class="token punctuation">&quot;</span></span> <span class="token attr-name">separator</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>,<span class="token punctuation">&quot;</span></span> <span class="token attr-name">close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 #{item}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>foreach</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="\u5229\u7528-if-\u6807\u7B7E\u62FC\u88C5\u52A8\u6001-where-\u6761\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5229\u7528-if-\u6807\u7B7E\u62FC\u88C5\u52A8\u6001-where-\u6761\u4EF6" aria-hidden="true">#</a> \u5229\u7528 if \u6807\u7B7E\u62FC\u88C5\u52A8\u6001 where \u6761\u4EF6</h5><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>select r.*, (select d.org_name from sys_dept d where d.dept_id = r.dept_id) deptName from sys_role r
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span>
    r.wid = #{wid}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>roleName != null and roleName.trim() != &#39;&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    and r.\`role_name\` like concat(&#39;%&#39;,#{roleName},&#39;%&#39;)
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>status != null and status.trim() != &#39;&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    and r.\`status\` = #{status}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="\u5229\u7528-choose-\u548C-otherwise-\u7EC4\u5408\u6807\u7B7E\u62FC\u88C5\u67E5\u8BE2\u6761\u4EF6" tabindex="-1"><a class="header-anchor" href="#\u5229\u7528-choose-\u548C-otherwise-\u7EC4\u5408\u6807\u7B7E\u62FC\u88C5\u67E5\u8BE2\u6761\u4EF6" aria-hidden="true">#</a> \u5229\u7528 choose \u548C otherwise \u7EC4\u5408\u6807\u7B7E\u62FC\u88C5\u67E5\u8BE2\u6761\u4EF6</h5><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>choose</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>when</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sidx != null and sidx.trim() != &#39;&#39;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 order by r.\${sidx} \${order}
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>when</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>otherwise</span><span class="token punctuation">&gt;</span></span>
 order by r.role_id asc
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>otherwise</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>choose</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="\u9690\u5F62\u7ED1\u5B9A\u53C2\u6570-parameter" tabindex="-1"><a class="header-anchor" href="#\u9690\u5F62\u7ED1\u5B9A\u53C2\u6570-parameter" aria-hidden="true">#</a> \u9690\u5F62\u7ED1\u5B9A\u53C2\u6570\uFF1A_parameter</h5><p>_parameter \u53C2\u6570\u7684\u542B\u4E49\u5F53 Mapper\u3001association\u3001collection \u6307\u5B9A\u53EA\u6709\u4E00\u4E2A\u53C2\u6570\u65F6\u8FDB\u884C\u67E5\u8BE2\u65F6\uFF0C\u53EF\u4EE5\u4F7F\u7528 _parameter\uFF0C\u5B83\u5C31\u4EE3\u8868\u4E86\u8FD9\u4E2A\u53C2\u6570\u3002\u53E6\u5916\uFF0C\u5F53\u4F7F\u7528 Mapper\u6307\u5B9A\u65B9\u6CD5\u4F7F\u7528 @Param \u7684\u8BDD\uFF0C\u4F1A\u4F7F\u7528\u6307\u5B9A\u7684\u53C2\u6570\u503C\u4EE3\u66FF\u3002</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code>SELECT id, grp_no grpNo, province_id provinceId, status FROM tj_group_province
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>where</span><span class="token punctuation">&gt;</span></span> 
 ...
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_parameter!=null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 and grp_no = #{_parameter}
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>where</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="\u5229\u7528-set-\u914D\u5408-if-\u6807\u7B7E-\u52A8\u6001\u8BBE\u7F6E\u6570\u636E\u5E93\u5B57\u6BB5\u66F4\u65B0\u503C" tabindex="-1"><a class="header-anchor" href="#\u5229\u7528-set-\u914D\u5408-if-\u6807\u7B7E-\u52A8\u6001\u8BBE\u7F6E\u6570\u636E\u5E93\u5B57\u6BB5\u66F4\u65B0\u503C" aria-hidden="true">#</a> \u5229\u7528 set \u914D\u5408 if \u6807\u7B7E\uFF0C\u52A8\u6001\u8BBE\u7F6E\u6570\u636E\u5E93\u5B57\u6BB5\u66F4\u65B0\u503C</h5><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>update</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>updateById<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 UPDATE cms_label
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>set</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>labelGroupId != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     label_group_id = #{labelGroupId},
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
   dept_id = #{deptId},
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>recommend != null<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
     is_recommend = #{recommend},
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>if</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>set</span><span class="token punctuation">&gt;</span></span>
 WHERE label_id = #{labelId} 
&lt;/update
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,20),l=[p];function c(o,u){return n(),s("div",null,l)}const r=a(e,[["render",c],["__file","mybatis-sql-jq.html.vue"]]);export{r as default};
