import{_ as s,o as a,c as n,e}from"./app.a667bd71.js";const p={},t=e(`<h3 id="\u9009\u9879" tabindex="-1"><a class="header-anchor" href="#\u9009\u9879" aria-hidden="true">#</a> \u9009\u9879</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>-a\uFF1A\u663E\u793A\u6D3B\u52A8\u5185\u9875\uFF1B
-f\uFF1A\u663E\u793A\u542F\u52A8\u540E\u521B\u5EFA\u7684\u8FDB\u7A0B\u603B\u6570\uFF1B
-m\uFF1A\u663E\u793Aslab\u4FE1\u606F\uFF1B
-n\uFF1A\u5934\u4FE1\u606F\u4EC5\u663E\u793A\u4E00\u6B21\uFF1B
-s\uFF1A\u4EE5\u8868\u683C\u65B9\u5F0F\u663E\u793A\u4E8B\u4EF6\u8BA1\u6570\u5668\u548C\u5185\u5B58\u72B6\u6001\uFF1B
-d\uFF1A\u62A5\u544A\u78C1\u76D8\u72B6\u6001\uFF1B
-p\uFF1A\u663E\u793A\u6307\u5B9A\u7684\u786C\u76D8\u5206\u533A\u72B6\u6001\uFF1B
-S\uFF1A\u8F93\u51FA\u4FE1\u606F\u7684\u5355\u4F4D\u3002
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5E38\u7528\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u547D\u4EE4" aria-hidden="true">#</a> \u5E38\u7528\u547D\u4EE4</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#\u663E\u793A\u6D3B\u8DC3\u548C\u975E\u6D3B\u8DC3\u5185\u5B58</span>
<span class="token function">vmstat</span> <span class="token parameter variable">-a</span> <span class="token number">2</span> <span class="token number">5</span>
<span class="token comment">#\u663E\u793A\u4ECE\u7CFB\u7EDF\u542F\u52A8\u81F3\u4ECA\u7684fork\u6570\u91CF</span>
<span class="token function">vmstat</span> <span class="token parameter variable">-f</span> 

<span class="token comment">#\u67E5\u770B\u5185\u5B58\u4F7F\u7528\u7684\u8BE6\u7EC6\u4FE1\u606F</span>
<span class="token function">vmstat</span> <span class="token parameter variable">-s</span> 

<span class="token comment">#\u67E5\u770B\u78C1\u76D8\u7684\u8BFB/\u5199</span>
<span class="token function">vmstat</span> <span class="token parameter variable">-d</span> 

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="\u5E38\u7528\u811A\u672C" tabindex="-1"><a class="header-anchor" href="#\u5E38\u7528\u811A\u672C" aria-hidden="true">#</a> \u5E38\u7528\u811A\u672C</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/sh</span>
<span class="token assign-left variable">os</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">uname</span><span class="token variable">\`</span></span>
<span class="token assign-left variable">run_queue</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">blocked</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">swapped</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">vmexec</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">which</span> <span class="token function">vmstat</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $1}&#39;</span><span class="token variable">\`</span></span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$vmexec</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;no&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;error_text=vmstat command not found!&quot;</span>
  <span class="token builtin class-name">exit</span> <span class="token number">0</span>
<span class="token keyword">fi</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;linux&quot;</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;Linux&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token assign-left variable">temp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">vmstat</span> <span class="token operator">|</span><span class="token function">tail</span> <span class="token parameter variable">-1</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">run_queue</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s\\n&quot;,$1)}&#39;</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">blocked</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s\\n&quot;,$2)}&#39;</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">swapped</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s\\n&quot;,$3)}&#39;</span><span class="token variable">\`</span></span>

<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;AIX&quot;</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;aix&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token assign-left variable">temp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">vmstat</span> <span class="token number">1</span> <span class="token number">5</span> <span class="token operator">|</span><span class="token function">tail</span> <span class="token parameter variable">-1</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">run_queue</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s\\n&quot;,$1)}&#39;</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">blocked</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s\\n&quot;,$2)}&#39;</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">swapped</span><span class="token operator">=</span><span class="token number">0</span>

<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;HP-UX&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token assign-left variable">temp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">vmstat</span> <span class="token number">1</span> <span class="token number">5</span> <span class="token operator">|</span><span class="token function">tail</span> <span class="token parameter variable">-1</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">run_queue</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s\\n&quot;,$1)}&#39;</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">blocked</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s\\n&quot;,$2)}&#39;</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">swapped</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s\\n&quot;,$3)}&#39;</span><span class="token variable">\`</span></span>

<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;SCO_SV&quot;</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;UnixWare&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token assign-left variable">temp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">vmstat</span> <span class="token number">1</span> <span class="token number">5</span> <span class="token operator">|</span><span class="token function">tail</span> <span class="token parameter variable">-1</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">run_queue</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s\\n&quot;,$1)}&#39;</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">blocked</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s\\n&quot;,$2)}&#39;</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">swapped</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s\\n&quot;,$3)}&#39;</span><span class="token variable">\`</span></span>

<span class="token keyword">else</span>
  <span class="token assign-left variable">temp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">vmstat</span> <span class="token number">1</span> <span class="token number">5</span> <span class="token operator">|</span><span class="token function">tail</span> <span class="token parameter variable">-1</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">run_queue</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s\\n&quot;,$1)}&#39;</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">blocked</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s\\n&quot;,$2)}&#39;</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">swapped</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp <span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s\\n&quot;,$3)}&#39;</span><span class="token variable">\`</span></span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Run queue length=<span class="token variable">$run_queue</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Blocked processes=<span class="token variable">$blocked</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Runnable but swapped processes=<span class="token variable">$swapped</span>&quot;</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;AIX&quot;</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;aix&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;status_text=Processes run:{0}, blocked:{1};;;<span class="token variable">\${run_queue}</span>;;;<span class="token variable">\${blocked}</span>&quot;</span>
<span class="token keyword">else</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;status_text=Processes run:{0}, blocked:{1}, swapped:{2};;;<span class="token variable">\${run_queue}</span>;;;<span class="token variable">\${blocked}</span>;;;<span class="token variable">\${swapped}</span>&quot;</span>
<span class="token keyword">fi</span>

<span class="token builtin class-name">exit</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),l=[t];function o(i,c){return a(),n("div",null,l)}const k=s(p,[["render",o],["__file","vmstat.html.vue"]]);export{k as default};
