import{_ as s,o as n,c as a,e}from"./app.a667bd71.js";const t={},p=e(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash  </span>
<span class="token comment">#\`\`\`ops</span>
<span class="token comment">#title:\u68C0\u67E5MySQL\u4E3B\u4ECE\u540C\u6B65\u72B6\u6001\u811A\u672C</span>
<span class="token comment">#descr:</span>
<span class="token comment">#\`\`\`</span>
<span class="token assign-left variable"><span class="token environment constant">USER</span></span><span class="token operator">=</span>bak
<span class="token assign-left variable">PASSWD</span><span class="token operator">=</span><span class="token number">123456</span>
<span class="token assign-left variable">IO_SQL_STATUS</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span>mysql -u<span class="token environment constant">$USER</span> -p$PASSWD <span class="token parameter variable">-e</span>  show slave statusG  <span class="token operator">|</span><span class="token function">awk</span> -F:  /Slave_.*_Running/<span class="token punctuation">{</span>gsub<span class="token punctuation">(</span><span class="token string">&quot;: &quot;</span>,<span class="token string">&quot;:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>print $0<span class="token punctuation">}</span> <span class="token variable">)</span></span>  <span class="token comment">#gsub\u53BB\u9664\u5192\u53F7\u540E\u9762\u7684\u7A7A\u683C</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token variable">$IO_SQL_STATUS</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
    <span class="token assign-left variable">THREAD_STATUS_NAME</span><span class="token operator">=</span><span class="token variable">\${i<span class="token operator">%</span><span class="token operator">:</span>*}</span>
    <span class="token assign-left variable">THREAD_STATUS</span><span class="token operator">=</span><span class="token variable">\${i<span class="token operator">#</span>*<span class="token operator">:</span>}</span>
    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$THREAD_STATUS</span>&quot;</span> <span class="token operator">!=</span> <span class="token string">&quot;Yes&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">&quot;Error: MySQL Master-Slave <span class="token variable">$THREAD_STATUS_NAME</span> status is <span class="token variable">$THREAD_STATUS</span>!&quot;</span>
    <span class="token keyword">fi</span>
<span class="token keyword">done</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),o=[p];function l(c,i){return n(),a("div",null,o)}const k=s(t,[["render",l],["__file","mysql-check-masterstatus-sh.html.vue"]]);export{k as default};
