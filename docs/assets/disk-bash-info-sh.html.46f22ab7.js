import{_ as s,o as n,c as a,e}from"./app.a667bd71.js";const t={},p=e(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment">#\`\`\`ops</span>
<span class="token comment">#title:\u4E00\u4E9B\u5173\u4E8Edisk\u76F8\u5173\u7684\u64CD\u4F5Cshell</span>
<span class="token comment">#descr:</span>
<span class="token comment">#\`\`\`</span>
<span class="token keyword">while</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
	<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;Enter a block device file: &quot;</span> diskFile
	<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$diskFile</span>&quot;</span> <span class="token operator">==</span> <span class="token string">&#39;quit&#39;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
		<span class="token builtin class-name">exit</span> <span class="token number">7</span>
	<span class="token keyword">fi</span>

	<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-b</span> <span class="token string">&quot;<span class="token variable">$diskFile</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
		<span class="token builtin class-name">break</span>
	<span class="token keyword">else</span>
		<span class="token builtin class-name">echo</span> <span class="token string">&quot;Wrong device file...&quot;</span>
	<span class="token keyword">fi</span>
<span class="token keyword">done</span>

<span class="token builtin class-name">echo</span> <span class="token string">&quot;Device is: <span class="token variable">$diskFile</span>.&quot;</span>

<span class="token keyword">while</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token keyword">do</span>
	<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">&quot;Y or y for continue, N or n for quiting: &quot;</span> option
	<span class="token assign-left variable">option</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $option <span class="token operator">|</span> <span class="token function">tr</span> <span class="token string">&#39;A-Z&#39;</span> <span class="token string">&#39;a-z&#39;</span><span class="token variable">\`</span></span>
	<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$option</span>&quot;</span> <span class="token operator">==</span> <span class="token string">&#39;n&#39;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
		<span class="token builtin class-name">exit</span> <span class="token number">8</span>
	<span class="token keyword">fi</span>

	<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$option</span>&quot;</span> <span class="token operator">==</span> <span class="token string">&#39;y&#39;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
		<span class="token builtin class-name">break</span>
	<span class="token keyword">else</span>
		<span class="token builtin class-name">echo</span> <span class="token string">&quot;Wrong input...&quot;</span>
	<span class="token keyword">fi</span>
<span class="token keyword">done</span>

<span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/zero <span class="token assign-left variable">of</span><span class="token operator">=</span><span class="token variable">$diskFile</span> <span class="token assign-left variable">bs</span><span class="token operator">=</span><span class="token number">512</span> <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">1</span>


<span class="token comment">#!/bin/sh</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$#</span> <span class="token parameter variable">-lt</span> <span class="token number">1</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;error_text=diskname argument not specified!&quot;</span>
  <span class="token builtin class-name">exit</span>
<span class="token keyword">fi</span>

<span class="token assign-left variable">os</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">uname</span><span class="token variable">\`</span></span>
<span class="token assign-left variable">diskname</span><span class="token operator">=</span><span class="token variable">$1</span>
<span class="token assign-left variable">diskutil</span><span class="token operator">=</span><span class="token string">&quot;5&quot;</span>
<span class="token assign-left variable">awk_cmd</span><span class="token operator">=</span><span class="token string">&quot;awk&quot;</span>
<span class="token assign-left variable">disk_size</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">used</span><span class="token operator">=</span><span class="token string">&quot;&quot;</span>
<span class="token assign-left variable">disk_size_mb</span><span class="token operator">=</span><span class="token string">&quot;-1&quot;</span>
<span class="token assign-left variable">used_mb</span><span class="token operator">=</span><span class="token string">&quot;-1&quot;</span>

<span class="token comment">#get pure disk name</span>
<span class="token function">which</span> nawk <span class="token operator">&gt;</span> /dev/null <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
    <span class="token assign-left variable">awk_cmd</span><span class="token operator">=</span><span class="token string">&quot;nawk&quot;</span>
<span class="token keyword">fi</span>
<span class="token assign-left variable">tempfile</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $diskname<span class="token operator">|</span>$awk_cmd <span class="token string">&#39;{gsub(&quot;/&quot;,&quot;&quot;); print $0}&#39;</span><span class="token variable">\`</span></span>
<span class="token assign-left variable">tempfile</span><span class="token operator">=</span><span class="token string">&quot;disk_<span class="token variable">$tempfile</span>.temp&quot;</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;linux&quot;</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;Linux&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token function">df</span> <span class="token variable">$diskname</span> <span class="token operator">&gt;</span><span class="token variable">$tempfile</span>
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-ne</span> <span class="token number">0</span> <span class="token punctuation">]</span>
  <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;error_text=<span class="token variable">$diskname</span> not found&quot;</span>
    <span class="token function">rm</span> <span class="token variable">$tempfile</span>
    <span class="token builtin class-name">exit</span> <span class="token number">0</span>
  <span class="token keyword">fi</span>
  <span class="token assign-left variable">temp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">cat</span> $tempfile <span class="token operator">|</span><span class="token function">tail</span> <span class="token parameter variable">-1</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">diskutil</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s&quot;,$5)}&#39;</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{gsub(&quot;%&quot;,&quot;&quot;); print $0}&#39;</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">disk_size</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">cat</span> $tempfile <span class="token operator">|</span><span class="token function">tail</span> <span class="token parameter variable">-1</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $2}&#39;</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">disk_size_mb</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">expr</span> $disk_size / <span class="token number">1024</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">disk_size</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{ printf(&quot;%.2f&quot;,(c1/1024.0)) }&#39;</span> <span class="token assign-left variable">c1</span><span class="token operator">=</span>$disk_size_mb<span class="token variable">\`</span></span>
  <span class="token assign-left variable">disk_size</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">\${disk_size}</span>GB&quot;</span>

  <span class="token assign-left variable">used</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">cat</span> $tempfile <span class="token operator">|</span><span class="token function">tail</span> <span class="token parameter variable">-1</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $3}&#39;</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">used_mb</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">expr</span> $used / <span class="token number">1024</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">used</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{ printf(&quot;%.2f&quot;,(c1/1024.0)) }&#39;</span> <span class="token assign-left variable">c1</span><span class="token operator">=</span>$used_mb<span class="token variable">\`</span></span>
  <span class="token assign-left variable">used</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">\${used}</span>GB&quot;</span>


<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;SunOS&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token function">df</span> <span class="token parameter variable">-k</span> <span class="token variable">$diskname</span> <span class="token operator">&gt;</span> <span class="token variable">$tempfile</span>
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-ne</span> <span class="token number">0</span> <span class="token punctuation">]</span>
  <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;error_text=<span class="token variable">$diskname</span> not found&quot;</span>
    <span class="token builtin class-name">exit</span> <span class="token number">0</span>
  <span class="token keyword">fi</span>
  <span class="token assign-left variable">diskutil</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">cat</span> $tempfile <span class="token operator">|</span><span class="token function">tail</span> <span class="token parameter variable">-1</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $5}&#39;</span> <span class="token operator">|</span> <span class="token function">cut</span> <span class="token parameter variable">-f1</span> <span class="token parameter variable">-d</span> %<span class="token variable">\`</span></span>
  <span class="token assign-left variable">disk_size</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">cat</span> $tempfile <span class="token operator">|</span><span class="token function">tail</span> <span class="token parameter variable">-1</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $2}&#39;</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">disk_size_mb</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">expr</span> $disk_size / <span class="token number">1024</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">disk_size</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{ printf(&quot;%.2f&quot;,(c1/1024.0)) }&#39;</span> <span class="token assign-left variable">c1</span><span class="token operator">=</span>$disk_size_mb<span class="token variable">\`</span></span>
  <span class="token assign-left variable">disk_size</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">\${disk_size}</span>GB&quot;</span>


  <span class="token assign-left variable">used</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">cat</span> $tempfile <span class="token operator">|</span><span class="token function">tail</span> <span class="token parameter variable">-1</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{print $3}&#39;</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">used_mb</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">expr</span> $used / <span class="token number">1024</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">used</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{ printf(&quot;%.2f&quot;,(c1/1024.0)) }&#39;</span> <span class="token assign-left variable">c1</span><span class="token operator">=</span>$used_mb<span class="token variable">\`</span></span>
  <span class="token assign-left variable">used</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">\${used}</span>GB&quot;</span>



<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;HP-UX&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token comment">#df -k $diskname &gt; /dev/null</span>
  <span class="token function">df</span> <span class="token parameter variable">-k</span> <span class="token variable">$diskname</span> <span class="token operator">&gt;</span> <span class="token variable">$tempfile</span>
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-ne</span> <span class="token number">0</span> <span class="token punctuation">]</span>
  <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;error_text=<span class="token variable">$diskname</span> not found&quot;</span>
    <span class="token builtin class-name">exit</span> <span class="token number">0</span>
  <span class="token keyword">fi</span>
  <span class="token comment">#temp=\`df -k $diskname |tail -1\`</span>
  <span class="token assign-left variable">temp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">cat</span> $tempfile <span class="token operator">|</span><span class="token function">tail</span> <span class="token parameter variable">-1</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">diskutil</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s&quot;,$1)}&#39;</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{gsub(&quot;%&quot;,&quot; &quot;); print $0}&#39;</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">diskutil</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $diskutil<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{gsub(&quot; &quot;,&quot;&quot;); print $0}&#39;</span><span class="token variable">\`</span></span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Disk Utilization=<span class="token variable">\${diskutil}</span>&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Total Size=-1&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Used Size=-1&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Avail Size=-1&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;status_text=Disk Utilization: {0}%;;;<span class="token variable">\${diskutil}</span>&quot;</span>
  <span class="token builtin class-name">exit</span>

<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;SCO_SV&quot;</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;UnixWare&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token comment">#df -k $diskname &gt; /dev/null</span>
  <span class="token function">df</span> <span class="token parameter variable">-k</span> <span class="token variable">$diskname</span> <span class="token operator">&gt;</span> <span class="token variable">$tempfile</span>
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-ne</span> <span class="token number">0</span> <span class="token punctuation">]</span>
  <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;error_text=<span class="token variable">$diskname</span> not found&quot;</span>
    <span class="token builtin class-name">exit</span> <span class="token number">0</span>
  <span class="token keyword">fi</span>
  <span class="token comment">#temp=\`df -k $diskname |tail -1\`</span>
  <span class="token assign-left variable">temp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">cat</span> $tempfile <span class="token operator">|</span><span class="token function">tail</span> <span class="token parameter variable">-1</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">diskutil</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s&quot;,$4)}&#39;</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{gsub(&quot;%&quot;,&quot; &quot;); print $0}&#39;</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">diskutil</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $diskutil<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{gsub(&quot; &quot;,&quot;&quot;); print $0}&#39;</span><span class="token variable">\`</span></span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Disk Utilization=<span class="token variable">\${diskutil}</span>&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Total Size=-1&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Used Size=-1&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Avail Size=-1&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;status_text=Disk Utilization: {0}%;;;<span class="token variable">\${diskutil}</span>&quot;</span>
  <span class="token builtin class-name">exit</span>

<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;OSF1&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token function">df</span> <span class="token variable">$diskname</span> <span class="token operator">&gt;</span> <span class="token variable">$tempfile</span>
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-ne</span> <span class="token number">0</span> <span class="token punctuation">]</span>
  <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;error_text=<span class="token variable">$diskname</span> not found&quot;</span>
    <span class="token builtin class-name">exit</span> <span class="token number">0</span>
  <span class="token keyword">fi</span>
  <span class="token assign-left variable">temp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">cat</span> $tempfile <span class="token operator">|</span><span class="token function">tail</span> <span class="token parameter variable">-1</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">diskutil</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s&quot;,$5)}&#39;</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{gsub(&quot;%&quot;,&quot; &quot;); print $0}&#39;</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">diskutil</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $diskutil<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{gsub(&quot; &quot;,&quot;&quot;); print $0}&#39;</span><span class="token variable">\`</span></span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Disk Utilization=<span class="token variable">\${diskutil}</span>&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Total Size=-1&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Used Size=-1&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Avail Size=-1&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;status_text=Disk Utilization: {0}%;;;<span class="token variable">\${diskutil}</span>&quot;</span>
  <span class="token builtin class-name">exit</span>

<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;AIX&quot;</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$os</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;aix&quot;</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
  <span class="token comment">#df -k $diskname &gt; /dev/null</span>
  <span class="token function">df</span> <span class="token parameter variable">-k</span> <span class="token variable">$diskname</span> <span class="token operator">&gt;</span> <span class="token variable">$tempfile</span>
  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-ne</span> <span class="token number">0</span> <span class="token punctuation">]</span>
  <span class="token keyword">then</span>
    <span class="token builtin class-name">echo</span> <span class="token string">&quot;error_text=<span class="token variable">$diskname</span> not found&quot;</span>
    <span class="token builtin class-name">exit</span> <span class="token number">0</span>
  <span class="token keyword">fi</span>
  <span class="token comment">#temp=\`df -k $diskname |tail -1\`</span>
  <span class="token assign-left variable">temp</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">cat</span> $tempfile <span class="token operator">|</span><span class="token function">tail</span> <span class="token parameter variable">-1</span><span class="token variable">\`</span></span>
  <span class="token assign-left variable">diskutil</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> $temp<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{printf(&quot;%s&quot;,$4)}&#39;</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token string">&#39;{gsub(&quot;%&quot;,&quot; &quot;); print $0}&#39;</span><span class="token variable">\`</span></span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Disk Utilization=<span class="token variable">\${diskutil}</span>&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Total Size=-1&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Used Size=-1&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;Avail Size=-1&quot;</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;status_text=Disk Utilization: {0}%;;;<span class="token variable">\${diskutil}</span>&quot;</span>
  <span class="token builtin class-name">exit</span>

<span class="token keyword">else</span> 
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;error_text=Unsupported platform: <span class="token variable">$os</span>&quot;</span>
  <span class="token builtin class-name">exit</span>
<span class="token keyword">fi</span>

<span class="token function">rm</span> <span class="token variable">$tempfile</span>
<span class="token assign-left variable">avail_mb</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token function">expr</span> $disk_size_mb - $used_mb<span class="token variable">\`</span></span>
<span class="token assign-left variable">avail</span><span class="token operator">=</span><span class="token variable"><span class="token variable">\`</span><span class="token builtin class-name">echo</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">&#39;{ printf(&quot;%.2f&quot;,(c1/1024.0)) }&#39;</span> <span class="token assign-left variable">c1</span><span class="token operator">=</span>$avail_mb<span class="token variable">\`</span></span>
<span class="token assign-left variable">avail</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">\${avail}</span>GB&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Disk Utilization=<span class="token variable">\${diskutil}</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Total Size=<span class="token variable">$disk_size_mb</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Used Size=<span class="token variable">$used_mb</span>&quot;</span>
<span class="token builtin class-name">echo</span> <span class="token string">&quot;Avail Size=<span class="token variable">$avail_mb</span>&quot;</span>



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,1),l=[p];function i(o,c){return n(),a("div",null,l)}const k=s(t,[["render",i],["__file","disk-bash-info-sh.html.vue"]]);export{k as default};
